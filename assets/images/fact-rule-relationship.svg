<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 380">
  <defs>
    <style>
      .box { fill: #1e293b; stroke: #60a5fa; stroke-width: 2; }
      .text { fill: #e2e8f0; font-family: 'Courier New', monospace; font-size: 13px; }
      .title { fill: #60a5fa; font-family: 'Courier New', monospace; font-size: 14px; font-weight: bold; }
      .label { fill: #94a3b8; font-family: 'Courier New', monospace; font-size: 12px; }
      .arrow { stroke: #60a5fa; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .cycle-arrow { stroke: #22d3ee; stroke-width: 2; fill: none; marker-end: url(#arrowhead-cyan); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#60a5fa" />
    </marker>
    <marker id="arrowhead-cyan" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#22d3ee" />
    </marker>
  </defs>

  <!-- Left side: Facts (DATA) -->
  <text x="100" y="30" text-anchor="middle" class="title">Facts (DATA)</text>
  <rect x="30" y="50" width="140" height="80" rx="5" class="box"/>
  <text x="100" y="75" text-anchor="middle" class="label">Current State</text>
  <text x="100" y="95" text-anchor="middle" class="label">:stock</text>
  <text x="100" y="110" text-anchor="middle" class="label">:portfolio</text>

  <!-- Right side: Rules (LOGIC) -->
  <text x="500" y="30" text-anchor="middle" class="title">Rules (LOGIC)</text>
  <rect x="430" y="50" width="140" height="80" rx="5" class="box"/>
  <text x="500" y="75" text-anchor="middle" class="label">IF-THEN Logic</text>
  <text x="500" y="95" text-anchor="middle" class="label">Conditions</text>
  <text x="500" y="110" text-anchor="middle" class="label">Actions</text>

  <!-- Arrow from Facts to Pattern Match -->
  <path d="M 170 90 L 240 90" class="arrow"/>

  <!-- Arrow from Rules to Pattern Match -->
  <path d="M 430 90 L 360 90" class="arrow"/>

  <!-- Center: Pattern Match and Execution -->
  <rect x="210" y="170" width="180" height="140" rx="5" class="box"/>
  <text x="300" y="195" text-anchor="middle" class="title">IF conditions</text>
  <text x="300" y="215" text-anchor="middle" class="title">match facts</text>

  <line x1="230" y1="230" x2="370" y2="230" stroke="#60a5fa" stroke-width="1" opacity="0.3"/>

  <text x="300" y="255" text-anchor="middle" class="title">THEN execute</text>
  <text x="300" y="275" text-anchor="middle" class="title">action</text>

  <!-- Arrow pointing down to Pattern Match box -->
  <path d="M 300 130 L 300 170" class="arrow"/>

  <!-- Arrow from action box to new facts -->
  <path d="M 300 310 L 300 340" class="arrow"/>
  <text x="380" y="328" class="label">May create</text>
  <text x="380" y="345" class="label">new facts</text>

  <!-- New facts box at bottom -->
  <rect x="210" y="345" width="180" height="30" rx="3" class="box"/>
  <text x="300" y="365" text-anchor="middle" class="label">Facts added/removed</text>

  <!-- Cycle arrow going back up -->
  <path d="M 390 360 L 550 360 L 550 90 L 570 90" class="cycle-arrow"/>
  <text x="555" y="225" class="label" fill="#22d3ee">â†»</text>
  <text x="490" y="372" class="label" fill="#22d3ee">(cycle continues)</text>
</svg>
